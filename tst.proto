
type id = int
type dim x =
   A int
 | B float
 | C float int [string] (float * [|bool|] * [[string]])
 | D x

type source = One | Some_other

type meta a = Unset | Set source a

message metadata = {
  author : meta<string>;
  pages : meta<int>
}

message doc =
   Normal {
     id : id;
     mutable dim : dim<int>;
     name : string;
     metadata : metadata
   }
 | Simple {
     id : id;
     name : string
 }


